{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }

  /* Premium Testimonial Styles */
  .testimonial-card {
    position: relative;
    border-radius: {{ section.settings.card_border_radius | default: 16 }}px;
    overflow: hidden;
    margin-top: {{ section.settings.card_margin_top | default: 0 }}px;
  }

  /* Hover lift on card - use !important to override scroll animations */
  .testimonials-{{ section.id }} .testimonial-card {
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s ease !important;
    will-change: transform, box-shadow;
  }

  .testimonials-{{ section.id }} .testimonial-card:hover {
    transform: translateY(-8px) !important;
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.12) !important;
  }

  /* Large Quote Styling */
  .testimonial-card .rte {
    font-size: {{ section.settings.quote_font_size_mobile | default: section.settings.quote_font_size | default: 16 }}px;
    line-height: 1.7;
    font-style: italic;
    color: {{ section.settings.quote_text_color | default: 'inherit' }};
  }

  @media screen and (min-width: 750px) {
    .testimonial-card .rte {
      font-size: {{ section.settings.quote_font_size_desktop | default: section.settings.quote_font_size | default: 18 }}px;
    }
  }

  .testimonial-card .rte p {
    margin: 0;
    position: relative;
  }

  /* Enhanced Avatar Styling */
  .testimonial-card__avatar {
    position: relative;
    width: {{ section.settings.avatar_size | default: 64 }}px;
    height: {{ section.settings.avatar_size | default: 64 }}px;
    border-radius: 50%;
    overflow: visible;
    flex-shrink: 0;
  }

  .testimonial-card__avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
    border: 3px solid {{ section.settings.avatar_border_color | default: '#ffffff' }};
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  /* Verified Badge */
  .testimonial-card__verified-badge {
    position: absolute;
    bottom: -2px;
    right: -2px;
    width: 22px;
    height: 22px;
    background: {{ section.settings.verified_badge_bg_color | default: '#10b981' }};
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid {{ section.settings.avatar_border_color | default: '#ffffff' }};
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  }

  .testimonial-card__verified-badge svg {
    width: 12px;
    height: 12px;
    color: {{ section.settings.verified_badge_icon_color | default: '#ffffff' }};
  }

  /* Author Info Layout */
  .testimonial-card__author-container {
    display: flex;
    align-items: center;
    gap: 16px;
    margin-top: 24px;
    padding-top: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.08);
  }

  .testimonial-card__author-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }

  .testimonial-card__author {
    font-weight: 600;
    font-size: {{ section.settings.author_name_font_size_mobile | default: section.settings.author_name_font_size | default: 14 }}px;
    margin: 0;
    color: {{ section.settings.author_name_color | default: 'inherit' }};
  }

  @media screen and (min-width: 750px) {
    .testimonial-card__author {
      font-size: {{ section.settings.author_name_font_size_desktop | default: section.settings.author_name_font_size | default: 16 }}px;
    }
  }

  .testimonial-card__verified-text {
    font-size: {{ section.settings.meta_font_size_mobile | default: section.settings.meta_font_size | default: 12 }}px;
    font-weight: 500;
    color: {{ section.settings.verified_badge_text_color | default: '#10b981' }};
    display: flex;
    align-items: center;
    gap: 4px;
  }

  @media screen and (min-width: 750px) {
    .testimonial-card__verified-text {
      font-size: {{ section.settings.meta_font_size_desktop | default: section.settings.meta_font_size | default: 13 }}px;
    }
  }

  .testimonial-card__verified-text::before {
    content: '';
    display: inline-block;
    width: 6px;
    height: 6px;
    background: {{ section.settings.verified_badge_text_color | default: '#10b981' }};
    border-radius: 50%;
  }

  .testimonial-card__location {
    font-size: {{ section.settings.meta_font_size_mobile | default: section.settings.meta_font_size | default: 12 }}px;
    color: rgba(var(--color-foreground), 0.6);
  }

  @media screen and (min-width: 750px) {
    .testimonial-card__location {
      font-size: {{ section.settings.meta_font_size_desktop | default: section.settings.meta_font_size | default: 13 }}px;
    }
  }

  /* Smooth Carousel Transitions */
  #shopify-section-{{ section.id }} .splide__slide {
    transition: opacity 0.4 ease, transform 0.4s ease;
  }

  #shopify-section-{{ section.id }} .splide__slide.is-active {
    opacity: 1;
    transform: scale(1);
  }

  #shopify-section-{{ section.id }} .splide__slide:not(.is-active) {
    opacity: 0.7;
    transform: scale(0.95);
  }

  /* Enhanced Stars */
  .testimonial-card__stars {
    margin-bottom: 16px;
  }

  .testimonial-card__stars .rating-stars__container--overlay svg {
    filter: drop-shadow(0 2px 4px rgba(255, 204, 0, 0.3));
  }

  /* Quote Marks Enhancement */
  .testimonial-card__quotes {
    margin-bottom: 16px;
    opacity: 0.3;
  }

  .testimonial-card__quotes svg {
    width: 32px;
    height: 32px;
  }

  /* Card Content Spacing */
  .testimonial-card__info--no-image-no-stars {
    padding-top: 24px;
  }

  /* Premium Focus State */
  .testimonial-card:focus-within {
    outline: 2px solid {{ section.settings.accent_color | default: '#7b92c8' }};
    outline-offset: 2px;
  }

  .color-scheme-{{ section.id }}.color-custom {
    --color-background: {{ section.settings.custom_colors_background.red }}, {{ section.settings.custom_colors_background.green }}, {{ section.settings.custom_colors_background.blue }};
    --gradient-background: {% if section.settings.custom_gradient_background != blank %}{{ section.settings.custom_gradient_background }}{% else %}{{ section.settings.custom_colors_background }}{% endif %};
    {% if section.settings.custom_image_background != blank %}
      {% # theme-check-disable %}
      --gradient-background: url('{{ section.settings.custom_image_background | img_url: 'master' }}') center center / cover no-repeat;
      {% # theme-check-enable %}
    {% endif %}
    --color-foreground: {{ section.settings.custom_colors_text.red }}, {{ section.settings.custom_colors_text.green }}, {{ section.settings.custom_colors_text.blue }};
  }
  {% if section.settings.custom_mobile_image_background != blank %}
    @media screen and (max-width: 740px) {
      .color-scheme-{{ section.id }}.color-custom {
        {% # theme-check-disable %}
        --gradient-background: url('{{ section.settings.custom_mobile_image_background | img_url: 'master' }}') center center / cover no-repeat;
        {% # theme-check-enable %}
      }
    }
  {% endif %}

  .cards-color-scheme-{{ section.id }}.color-custom {
    --color-background: {{ section.settings.custom_cards_colors_background.red }}, {{ section.settings.custom_cards_colors_background.green }}, {{ section.settings.custom_cards_colors_background.blue }};
    --gradient-background: {% if section.settings.custom_cards_gradient_background != blank %}{{ section.settings.custom_cards_gradient_background }}{% else %}{{ section.settings.custom_cards_colors_background }}{% endif %};
    --color-foreground: {{ section.settings.custom_cards_colors_text.red }}, {{ section.settings.custom_cards_colors_text.green }}, {{ section.settings.custom_cards_colors_text.blue }};
  }

  {% if section.settings.show_stars and section.settings.star_animation != 'none' %}
    /* Star Animation: {{ section.settings.star_animation }} */
    {% case section.settings.star_animation %}
      {% when 'shimmer' %}
        @keyframes starShimmer {
          0% { filter: brightness(1) drop-shadow(0 0 0 transparent); }
          50% { filter: brightness(1.3) drop-shadow(0 0 4px {{ section.settings.star_color }}); }
          100% { filter: brightness(1) drop-shadow(0 0 0 transparent); }
        }
        .testimonial-card__stars .rating-stars__container--overlay svg {
          animation: starShimmer 2s ease-in-out infinite;
        }
        .testimonial-card__stars .rating-stars__container--overlay svg:nth-child(1) { animation-delay: 0s; }
        .testimonial-card__stars .rating-stars__container--overlay svg:nth-child(2) { animation-delay: 0.2s; }
        .testimonial-card__stars .rating-stars__container--overlay svg:nth-child(3) { animation-delay: 0.4s; }
        .testimonial-card__stars .rating-stars__container--overlay svg:nth-child(4) { animation-delay: 0.6s; }
        .testimonial-card__stars .rating-stars__container--overlay svg:nth-child(5) { animation-delay: 0.8s; }

      {% when 'pulse' %}
        @keyframes starPulse {
          0%, 100% { transform: scale(1); filter: drop-shadow(0 0 0 transparent); }
          50% { transform: scale(1.1); filter: drop-shadow(0 0 6px {{ section.settings.star_color }}); }
        }
        .testimonial-card__stars .rating-stars__container--overlay svg {
          animation: starPulse 1.5s ease-in-out infinite;
        }

      {% when 'sequential' %}
        @keyframes starTwinkle {
          0%, 100% { opacity: 1; transform: scale(1); }
          50% { opacity: 0.6; transform: scale(0.9); }
        }
        .testimonial-card__stars .rating-stars__container--overlay svg {
          animation: starTwinkle 1.2s ease-in-out infinite;
        }
        .testimonial-card__stars .rating-stars__container--overlay svg:nth-child(1) { animation-delay: 0s; }
        .testimonial-card__stars .rating-stars__container--overlay svg:nth-child(2) { animation-delay: 0.24s; }
        .testimonial-card__stars .rating-stars__container--overlay svg:nth-child(3) { animation-delay: 0.48s; }
        .testimonial-card__stars .rating-stars__container--overlay svg:nth-child(4) { animation-delay: 0.72s; }
        .testimonial-card__stars .rating-stars__container--overlay svg:nth-child(5) { animation-delay: 0.96s; }

      {% when 'sparkle' %}
        @keyframes starSparkle {
          0%, 100% { filter: brightness(1); }
          50% { filter: brightness(1.4) drop-shadow(0 0 3px {{ section.settings.star_color }}); }
        }
        .testimonial-card__stars .rating-stars__container--overlay svg {
          animation: starSparkle 2s ease-in-out infinite;
          animation-delay: calc(var(--star-index, 0) * 0.3s);
        }
        .testimonial-card__stars .rating-stars__container--overlay svg:nth-child(1) { --star-index: 0; animation-delay: 0.3s; }
        .testimonial-card__stars .rating-stars__container--overlay svg:nth-child(2) { --star-index: 1; animation-delay: 1.1s; }
        .testimonial-card__stars .rating-stars__container--overlay svg:nth-child(3) { --star-index: 2; animation-delay: 0.7s; }
        .testimonial-card__stars .rating-stars__container--overlay svg:nth-child(4) { --star-index: 3; animation-delay: 1.5s; }
        .testimonial-card__stars .rating-stars__container--overlay svg:nth-child(5) { --star-index: 4; animation-delay: 0.1s; }
    {% endcase %}
  {% endif %}
{%- endstyle -%}

<div class="multicolumn testimonials-{{ section.id }} color-scheme-{{ section.id }} color-{{ section.settings.color_scheme }} gradient{% if section.settings.title == blank %} no-heading{% endif %} content-for-grouping animate-section animate--hidden {{ section.settings.visibility }}">
  {% if section.settings.display_id %}
    <copy-button class='section-id-btn button' data-content="#shopify-section-{{ section.id }}" data-success="false">
      <span class="copy-text">Click to copy section ID</span>
      <span class="copy-success">ID copied successfully!</span>
    </copy-button>
  {% endif %}
  {%- liquid
    assign has_mobile_slider = false
    assign has_desktop_slider = false
    if section.settings.slider_mobile
      assign has_mobile_slider = true
    endif
    if section.settings.slider_desktop
      assign has_desktop_slider = true
    endif
  
    assign highest_ratio = 0
    for block in section.blocks
      if block_video.aspect_ratio > highest_ratio
        assign highest_ratio = block_video.aspect_ratio
      elsif block_image.aspect_ratio > highest_ratio
        assign highest_ratio = block_image.aspect_ratio
      endif
    endfor
    assign bg_diff_class = ' multicolumn--same-bgs'
    unless section.settings.color_scheme == section.settings.cards_color_scheme
      assign bg_diff_class = ' multicolumn--diff-bgs'
    endunless
    if section.settings.color_scheme == 'custom' and section.settings.cards_color_scheme == 'custom'
      unless section.settings.custom_colors_background == section.settings.custom_cards_colors_background
        assign bg_diff_class = ' multicolumn--diff-bgs'
      endunless
    endif
  -%}
  <div class="page-width{% if section.settings.desktop_full_page %} desktop-full-page{% endif %}{% if has_mobile_slider %} mobile-full-page{% endif %} section-{{ section.id }}-padding isolate" style="--columns-desktop: {{ section.settings.columns_desktop }};--columns-mobile:1;--gap-desktop:{{ section.settings.desktop_spacing | divided_by: 10.0 }}rem;--gap-mobile:1.5rem;">
    <div class='animate-item animate-item--child index-0'>
      {% assign content_index = 0 %}
      {%- unless section.settings.title == blank -%}
        {% assign content_index = 1 %}
        <div class="title-wrapper-with-link title-wrapper--self-padded-mobile title-wrapper--no-top-margin{% if section.settings.text != blank %} multicolumn-title-with-text{% endif %}">
          <h2 class="title {{ section.settings.heading_size }} title-with-highlight" style='--hightlight-color:{{ section.settings.title_highlight_color }}'>
            {{ section.settings.title }}
          </h2>
        </div>
      {%- endunless -%}
      {% if section.settings.text != blank %}
        {% assign content_index = 1 %}
        <div class="multicolumn-text">
          {{ section.settings.text }}
        </div>
      {% endif %}
    </div>
    {% if has_mobile_slider or has_desktop_slider %}
      {%- assign raw_autoplay = section.settings.autoplay -%}
      {%- assign autoplay_enabled = raw_autoplay | default: true -%}
      {%- assign autoplay_speed_val = section.settings.autoplay_speed | default: 5 -%}
      <!-- DEBUG: raw_autoplay={{ raw_autoplay }}, autoplay_enabled={{ autoplay_enabled }}, speed={{ autoplay_speed_val }} -->
      <splide-component
        data-type='{{ section.settings.type }}'
        data-autoplay="{% if autoplay_enabled %}true{% else %}false{% endif %}"
        data-autoplay-speed='{{ autoplay_speed_val }}'
        data-arrows-color="{{ section.settings.arrows_color_scheme }}"
        data-dots-color="{{ section.settings.dots_color_scheme }}"
        data-slides-desktop="{{ section.settings.columns_desktop }}"
        data-per-move-desktop='{{ section.settings.per_move_desktop }}'
        data-gap-desktop='{{ section.settings.desktop_spacing }}'
        data-side-padding-desktop='{{ section.settings.desktop_side_padding }}'
        data-padding-calc-desktop='{{ section.settings.desktop_padding_calc }}'
        data-slides-mobile="1"
        data-gap-mobile='15'
        {% if section.settings.enable_mobile_preview %}
          data-side-padding-mobile='24'
        {% else %}
          data-side-padding-mobile='15'
        {% endif %}
        {% if has_desktop_slider == false %}
          data-destroy-desktop="true"
        {% elsif has_mobile_slider == false %}
          data-destroy-mobile="true"
        {% endif %}
        data-pause-videos='true'
      >
    {% endif %}
      <div
        class='splide splide--desktop-dots-{{ section.settings.desktop_dots_position }} splide--mobile-dots-{{ section.settings.mobile_dots_position }} splide--desktop-arrows-{{ section.settings.desktop_arrows_position }} splide--desktop-arrows-outside splide--mobile-arrows-{{ section.settings.mobile_arrows_position }}{% if section.settings.transparent_arrows %} splide--transparent-arrows{% endif %}{% if section.settings.vertical-alignment == 'center' %} splide--vertically-centered{% endif %}{% if has_desktop_slider == false %} splide--destroy-desktop{% endif %}{% if has_mobile_slider == false %} splide--destroy-mobile{% endif %}' 
        style="--columns-desktop: {{ section.settings.columns_desktop }};--columns-mobile:1;--gap-desktop:{{ section.settings.desktop_spacing | divided_by: 10.0 }}rem;--gap-mobile:1.5rem;"
        {% if section.settings.desktop_adaptive_height and section.settings.slides_desktop == 1 and has_desktop_slider %}
          data-desktop-adaptive-height="true"
        {% endif %}
        {% if section.settings.mobile_adaptive_height and has_mobile_slider %}
          data-mobile-adaptive-height="true"
        {% endif %}
      >
        <div class="splide__track">
          {%- liquid
            assign reviews_to_render = ''

            if section.settings.data_source == 'metaobjects'
              if section.settings.target_product != blank
                assign reviews_source = section.settings.target_product.metafields.custom.product_reviews.value
              elsif product != blank
                assign reviews_source = product.metafields.custom.product_reviews.value
              else
                assign reviews_source = ''
              endif

              if section.settings.featured_only
                assign filtered_reviews = ''
                for review in reviews_source
                  if review.featured
                    assign filtered_reviews = filtered_reviews | append: review.handle | append: ','
                  endif
                endfor
                assign reviews_source_handles = filtered_reviews | split: ','
              else
                assign reviews_source_handles = ''
                for review in reviews_source
                  assign reviews_source_handles = reviews_source_handles | append: review.handle | append: ','
                endfor
                assign reviews_source_handles = reviews_source_handles | split: ','
              endif

              assign max_reviews = section.settings.max_reviews
              assign reviews_count = 0
            else
              assign reviews_source = section.blocks
            endif
          -%}
          <ul class="splide__list" data-stagger-children data-stagger-animate="scale-up">
            {%- if section.settings.data_source == 'metaobjects' -%}
              {%- for review_handle in reviews_source_handles -%}
                {%- liquid
                  if reviews_count >= max_reviews
                    break
                  endif
                  assign review = shop.metaobjects.review[review_handle]
                  if review == blank
                    continue
                  endif
                  assign reviews_count = reviews_count | plus: 1
                -%}
                {% render 'testimonial-card',
                  section: section,
                  block_image: review.avatar_image,
                  block_video: blank,
                  block_title: review.title,
                  block_text: review.review_text,
                  block_author_avatar: review.avatar_image,
                  block_author: review.reviewer_name,
                  block_star_rating: review.star_rating,
                  block_verified_purchase: review.verified_purchase,
                  block_author_location: review.location,
                  highest_ratio: highest_ratio,
                  bg_diff_class: bg_diff_class,
                  content_index: content_index,
                  review_handle: review_handle
                %}
              {%- endfor -%}
            {%- else -%}
              {%- for block in section.blocks -%}
                {% render 'testimonial-card',
                  section: section,
                  block: block,
                  block_image: block.settings.image,
                  block_video: block.settings.video,
                  block_title: block.settings.title,
                  block_text: block.settings.text,
                  block_author_avatar: block.settings.author_avatar,
                  block_author: block.settings.author,
                  block_star_rating: block.settings.star_rating,
                  block_verified_purchase: block.settings.verified_purchase,
                  block_author_location: block.settings.author_location,
                  highest_ratio: highest_ratio,
                  bg_diff_class: bg_diff_class,
                  content_index: content_index
                %}
              {%- endfor -%}
            {%- endif -%}
          </ul>
        </div>
        <div class='splide__dots-and-arrows'>
          <ul class="splide__pagination"></ul>
          <div class="splide__arrows"></div>
        </div>
      </div>
    {% if has_mobile_slider or has_desktop_slider %}
      </splide-component>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Testimonials",
  "class": "section",
  "tag": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "checkbox",
      "id": "display_id",
      "label": "Display section ID",
      "info": "ID is used in the Sections group section to merge 2 sections. ID can also be put inside any button link and the button will scroll to this section.",
      "default": false
    },
    {
      "type": "select",
      "id": "visibility",
      "options": [
        {
          "value": "desktop-hidden",
          "label": "Mobile only"
        },
        {
          "value": "mobile-hidden",
          "label": "Desktop only"
        },
        {
          "value": "always-display",
          "label": "All devices"
        }
      ],
      "label": "Display on",
      "default": "always-display"
    },
    {
      "type": "header",
      "content": "General"
    },
    {
      "type": "inline_richtext",
      "id": "title",
      "default": "Testimonials",
      "label": "Heading",
      "info": "Bold certain words to highlight them with a different color."
    },
    {
      "type": "color",
      "id": "title_highlight_color",
      "label": "Heading highlight color",
      "default": "#6D388B"
    },
    {
      "type": "select",
      "id": "heading_size",
      "options": [
        {
          "value": "h2",
          "label": "Small"
        },
        {
          "value": "h1",
          "label": "Medium"
        },
        {
          "value": "h0",
          "label": "Large"
        }
      ],
      "default": "h1",
      "label": "Heading size"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "Text"
    },
    {
      "type": "select",
      "id": "color_scheme",
      "options": [
        {
          "value": "accent-1",
          "label": "Accent 1"
        },
        {
          "value": "accent-2",
          "label": "Accent 2"
        },
        {
          "value": "background-1",
          "label": "Background 1"
        },
        {
          "value": "background-2",
          "label": "Background 2"
        },
        {
          "value": "inverse",
          "label": "Inverse"
        },
        {
          "value": "custom",
          "label": "Custom"
        }
      ],
      "default": "background-1",
      "label": "Color scheme",
      "info": "Custom color scheme is edited at the bottom of section settings."
    },
    {
      "type": "header",
      "content": "Cards style"
    },
    {
      "type": "range",
      "id": "card_border_radius",
      "min": 0,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Card border radius",
      "default": 16
    },
    {
      "type": "header",
      "content": "Card spacing"
    },
    {
      "type": "range",
      "id": "card_padding",
      "min": 0,
      "max": 60,
      "step": 4,
      "unit": "px",
      "label": "Card inner padding",
      "default": 24
    },
    {
      "type": "range",
      "id": "card_margin_top",
      "min": 0,
      "max": 40,
      "step": 4,
      "unit": "px",
      "label": "Card margin top",
      "default": 0
    },
    {
      "type": "select",
      "id": "image_width",
      "options": [
        {
          "value": "third",
          "label": "One-third width of column"
        },
        {
          "value": "half",
          "label": "Half width of column"
        },
        {
          "value": "full",
          "label": "Full width of column"
        }
      ],
      "default": "full",
      "label": "Media width"
    },
    {
      "type": "select",
      "id": "image_ratio",
      "options": [
        {
          "value": "adapt",
          "label": "Adapt to media"
        },
        {
          "value": "portrait",
          "label": "Portrait"
        },
        {
          "value": "square",
          "label": "Square"
        },
        {
          "value": "circle",
          "label": "Circle"
        }
      ],
      "default": "square",
      "label": "Media ratio"
    },
    {
      "type": "select",
      "id": "column_alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center",
      "label": "Text alignment"
    },
    {
      "type": "checkbox",
      "id": "show_stars",
      "default": true,
      "label": "Show stars"
    },
    {
      "type": "select",
      "id": "inactive_stars_style",
      "options": [
        {
          "value": "solid",
          "label": "Solid"
        },
        {
          "value": "outlined",
          "label": "Outlined"
        },
        {
          "value": "hidden",
          "label": "Hidden"
        }
      ],
      "default": "solid",
      "label": "Inactive stars style"
    },
    {
      "type": "color",
      "id": "star_color",
      "default": "#ffcc00",
      "label": "Stars color"
    },
    {
      "type": "color",
      "id": "bg_star_color",
      "default": "#ececec",
      "label": "Inactive stars color"
    },
    {
      "type": "select",
      "id": "star_animation",
      "label": "Star animation",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "shimmer",
          "label": "Golden shimmer"
        },
        {
          "value": "pulse",
          "label": "Gentle pulse"
        },
        {
          "value": "sequential",
          "label": "Sequential twinkle"
        },
        {
          "value": "sparkle",
          "label": "Random sparkle"
        }
      ],
      "default": "shimmer"
    },
    {
      "type": "checkbox",
      "id": "show_quotes",
      "default": true,
      "label": "Show quote marks"
    },
    {
      "type": "select",
      "id": "quotes_color_scheme",
      "options": [
        {
          "value": "accent-1",
          "label": "Accent 1"
        },
        {
          "value": "accent-2",
          "label": "Accent 2"
        },
        {
          "value": "background-1",
          "label": "Background 1"
        },
        {
          "value": "background-2",
          "label": "Background 2"
        },
        {
          "value": "inverse",
          "label": "Inverse"
        }
      ],
      "default": "accent-2",
      "label": "Quotes color scheme"
    },
    {
      "type": "select",
      "id": "cards_color_scheme",
      "options": [
        {
          "value": "bg-overlay",
          "label": "Light overlay"
        },
        {
          "value": "accent-1",
          "label": "Accent 1"
        },
        {
          "value": "accent-2",
          "label": "Accent 2"
        },
        {
          "value": "background-1",
          "label": "Background 1"
        },
        {
          "value": "background-2",
          "label": "Background 2"
        },
        {
          "value": "inverse",
          "label": "Inverse"
        },
        {
          "value": "custom",
          "label": "Custom"
        }
      ],
      "default": "bg-overlay",
      "label": "Cards color scheme",
      "info": "Custom color scheme is edited at the bottom of section settings."
    },
    {
      "type": "header",
      "content": "Slider"
    },
    {
      "type": "paragraph",
      "content": "ATTENTION: ONLY in the theme editor, pagination dots might duplicate after changing section settings. To overcome this, simply click Save. This has NO EFFECT on the published website."
    },
    {
      "type": "select",
      "id": "type",
      "options": [
        {
          "value": "slide",
          "label": "Classic"
        },
        {
          "value": "loop",
          "label": "Infinite"
        }
      ],
      "default": "loop",
      "label": "Slider type",
      "info": "Infinite creates a seamless carousel experience"
    },
    {
      "type": "checkbox",
      "id": "autoplay",
      "label": "Enable autoplay",
      "default": true
    },
    {
      "type": "range",
      "id": "autoplay_speed",
      "min": 1,
      "max": 15,
      "step": 0.5,
      "default": 5,
      "unit": "sec",
      "label": "Autoplay speed"
    },
    {
      "type": "select",
      "id": "arrows_color_scheme",
      "options": [
        {
          "value": "accent-1",
          "label": "Accent 1"
        },
        {
          "value": "accent-2",
          "label": "Accent 2"
        },
        {
          "value": "background-1",
          "label": "Background 1"
        },
        {
          "value": "background-2",
          "label": "Background 2"
        },
        {
          "value": "inverse",
          "label": "Inverse"
        }
      ],
      "default": "inverse",
      "label": "Arrows color scheme"
    },
    {
      "type": "checkbox",
      "id": "transparent_arrows",
      "label": "Transparent arrows",
      "default": true
    },
    {
      "type": "select",
      "id": "dots_color_scheme",
      "options": [
        {
          "value": "accent-1",
          "label": "Accent 1"
        },
        {
          "value": "accent-2",
          "label": "Accent 2"
        },
        {
          "value": "background-1",
          "label": "Background 1"
        },
        {
          "value": "background-2",
          "label": "Background 2"
        },
        {
          "value": "inverse",
          "label": "Text"
        }
      ],
      "default": "inverse",
      "label": "Dots color"
    },
    {
      "type": "header",
      "content": "Desktop"
    },
    {
      "type": "checkbox",
      "id": "desktop_full_page",
      "label": "Full page width",
      "default": false
    },
    {
      "type": "range",
      "id": "columns_desktop",
      "min": 1,
      "max": 4,
      "step": 1,
      "default": 1,
      "label": "Testimonials per page",
      "info": "1 creates a premium focused carousel experience"
    },
    {
      "type": "checkbox",
      "id": "slider_desktop",
      "label": "Enable desktop slider",
      "default": true,
      "info": "Creates a carousel experience on desktop. The settings below are applied if this option is checked"
    },
    {
      "type": "range",
      "id": "per_move_desktop",
      "min": 1,
      "max": 10,
      "step": 1,
      "default": 1,
      "label": "Slides to scroll on one move"
    },
    {
      "type": "range",
      "id": "desktop_spacing",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Spacing",
      "default": 40
    },
    {
      "type": "range",
      "id": "desktop_side_padding",
      "min": 0,
      "max": 150,
      "step": 5,
      "unit": "px",
      "label": "Preview of prev & next slide",
      "default": 0
    },
    {
      "type": "checkbox",
      "id": "desktop_padding_calc",
      "label": "Disable empty preview on first & last slide",
      "default": true,
      "info": "Moves the first slide to the left edge adn last one to the right if Preview value is enabled. Visible if type is set to Slider."
    },
    {
      "type": "checkbox",
      "id": "desktop_adaptive_height",
      "label": "Adaptive height",
      "default": false,
      "info": "Only available if Slides per page is set to 1."
    },
    {
      "type": "select",
      "id": "desktop_dots_position",
      "options": [
        {
          "value": "hidden",
          "label": "Hidden"
        },
        {
          "value": "under",
          "label": "Under the slider"
        }
      ],
      "default": "under",
      "label": "Dots position"
    },
    {
      "type": "select",
      "id": "desktop_arrows_position",
      "options": [
        {
          "value": "hidden",
          "label": "Hidden"
        },
        {
          "value": "under",
          "label": "Under the slider"
        },
        {
          "value": "sides",
          "label": "On sides of the slider"
        }
      ],
      "default": "sides",
      "label": "Arrows position"
    },
    {
      "type": "header",
      "content": "Mobile"
    },
    {
      "type": "checkbox",
      "id": "slider_mobile",
      "label": "Enable mobile slider",
      "default": true,
      "info": "The settings bellow are applied if this option is checked"
    },
    {
      "type": "checkbox",
      "id": "enable_mobile_preview",
      "label": "Preview of prev & next slides",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "mobile_adaptive_height",
      "label": "Adaptive height",
      "default": false
    },
    {
      "type": "select",
      "id": "mobile_dots_position",
      "options": [
        {
          "value": "hidden",
          "label": "Hidden"
        },
        {
          "value": "under",
          "label": "Under the slider"
        }
      ],
      "default": "under",
      "label": "Dots position"
    },
    {
      "type": "select",
      "id": "mobile_arrows_position",
      "options": [
        {
          "value": "hidden",
          "label": "Hidden"
        },
        {
          "value": "under",
          "label": "Under the slider"
        },
        {
          "value": "sides",
          "label": "On sides of the slider"
        }
      ],
      "default": "under",
      "label": "Arrows position"
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 36
    },
    {
      "type": "header",
      "content": "Custom color scheme",
      "info": "Applied if Color scheme setting is set to Custom."
    },
    {
      "type": "color",
      "id": "custom_colors_background",
      "default": "#FFFFFF",
      "label": "Background color"
    },
    {
      "type": "color_background",
      "id": "custom_gradient_background",
      "label": "Gradient background",
      "info": "If added, replaces Background color when applicable."
    },
    {
      "type": "image_picker",
      "id": "custom_image_background",
      "label": "Image background"
    },
    {
      "type": "image_picker",
      "id": "custom_mobile_image_background",
      "label": "Mobile image background",
      "info": "If empty, the Image background will also be applied to mobile devices"
    },
    {
      "type": "color",
      "id": "custom_colors_text",
      "default": "#2E2A39",
      "label": "Text"
    },
    {
      "type": "header",
      "content": "Premium Styling"
    },
    {
      "type": "range",
      "id": "avatar_size",
      "min": 48,
      "max": 96,
      "step": 4,
      "unit": "px",
      "label": "Avatar size",
      "default": 64
    },
    {
      "type": "color",
      "id": "avatar_border_color",
      "label": "Avatar border color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Text sizes - Desktop"
    },
    {
      "type": "range",
      "id": "quote_font_size_desktop",
      "min": 12,
      "max": 32,
      "step": 1,
      "unit": "px",
      "label": "Quote text size (desktop)",
      "default": 18
    },
    {
      "type": "range",
      "id": "author_name_font_size_desktop",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Author name size (desktop)",
      "default": 16
    },
    {
      "type": "range",
      "id": "meta_font_size_desktop",
      "min": 10,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Verified text & location size (desktop)",
      "default": 13
    },
    {
      "type": "header",
      "content": "Text sizes - Mobile"
    },
    {
      "type": "range",
      "id": "quote_font_size_mobile",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Quote text size (mobile)",
      "default": 16
    },
    {
      "type": "range",
      "id": "author_name_font_size_mobile",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Author name size (mobile)",
      "default": 14
    },
    {
      "type": "range",
      "id": "meta_font_size_mobile",
      "min": 10,
      "max": 16,
      "step": 1,
      "unit": "px",
      "label": "Verified text & location size (mobile)",
      "default": 12
    },
    {
      "type": "color",
      "id": "quote_text_color",
      "label": "Quote text color",
      "default": "#2e2a39"
    },
    {
      "type": "color",
      "id": "author_name_color",
      "label": "Author name color",
      "default": "#121212"
    },
    {
      "type": "text",
      "id": "verified_badge_text",
      "label": "Verified badge text",
      "default": "Verified Purchase",
      "info": "Text displayed next to verified badge"
    },
    {
      "type": "color",
      "id": "verified_badge_bg_color",
      "label": "Verified badge background color",
      "default": "#10b981"
    },
    {
      "type": "color",
      "id": "verified_badge_icon_color",
      "label": "Verified badge checkmark color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "verified_badge_text_color",
      "label": "Verified badge text color",
      "default": "#10b981"
    },
    {
      "type": "header",
      "content": "Custom cards color scheme",
      "info": "Applied if Cards color scheme setting is set to Custom."
    },
    {
      "type": "color",
      "id": "custom_cards_colors_background",
      "default": "#F3F3F3",
      "label": "Background color"
    },
    {
      "type": "color_background",
      "id": "custom_cards_gradient_background",
      "label": "Gradient background",
      "info": "If added, replaces Background color when applicable."
    },
    {
      "type": "color",
      "id": "custom_cards_colors_text",
      "default": "#2E2A39",
      "label": "Text"
    },
    {
      "type": "header",
      "content": "Data Source"
    },
    {
      "type": "select",
      "id": "data_source",
      "label": "Data source",
      "options": [
        {"value": "blocks", "label": "Manual blocks"},
        {"value": "metaobjects", "label": "Product reviews (metaobjects)"}
      ],
      "default": "blocks"
    },
    {
      "type": "product",
      "id": "target_product",
      "label": "Target product (for metaobjects)",
      "info": "If left empty, will use the current product on product pages"
    },
    {
      "type": "checkbox",
      "id": "featured_only",
      "label": "Show only featured reviews",
      "default": false,
      "info": "Only applies when using metaobjects"
    },
    {
      "type": "range",
      "id": "max_reviews",
      "label": "Maximum reviews to show",
      "min": 1,
      "max": 20,
      "step": 1,
      "default": 6,
      "info": "Only applies when using metaobjects"
    }
  ],
  "blocks": [
    {
      "type": "column",
      "name": "Testimonial",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "header",
          "content": "or"
        },
        {
          "type": "video",
          "id": "video",
          "label": "Video"
        },
        {
          "type": "image_picker",
          "id": "video_thumbnail",
          "label": "Video thumbnail",
          "info": "If empty, the first frame of the video will be displayed."
        },
        {
          "type": "header",
          "content": "Content"
        },
        {
          "type": "range",
          "id": "star_rating",
          "label": "Rating",
          "min": 1,
          "max": 5,
          "step": 1,
          "default": 5
        },
        {
          "type": "text",
          "id": "title",
          "default": "Heading",
          "label": "t:sections.multicolumn.blocks.column.settings.title.label"
        },
        {
          "type": "richtext",
          "id": "text",
          "default": "<p>Share positive thoughts and feedback from your customer..</p>",
          "label": "t:sections.multicolumn.blocks.column.settings.text.label"
        },
        {
          "type": "image_picker",
          "id": "author_avatar",
          "label": "Author avatar"
        },
        {
          "type": "inline_richtext",
          "id": "author",
          "default": "<em><strong>Author</strong></em>",
          "label": "Author name"
        },
        {
          "type": "text",
          "id": "author_location",
          "label": "Author location",
          "info": "Optional - e.g., 'New York, NY'"
        },
        {
          "type": "checkbox",
          "id": "verified_purchase",
          "default": false,
          "label": "Verified Purchase",
          "info": "Displays a verified badge and 'Verified Purchase' text"
        }
      ]
    },
    {
      "type": "button_magic_mind",
      "name": "Magic Mind Button",
      "settings": [
        {"type": "text", "id": "button_label", "label": "Button label", "default": "Shop now"},
        {"type": "url", "id": "button_link", "label": "Button link"},
        {"type": "checkbox", "id": "open_in_new_tab", "label": "Open link in new tab"},
        {"type": "select", "id": "text_alignment", "label": "Text alignment", "options": [
          {"value": "left", "label": "Left"},
          {"value": "center", "label": "Center"},
          {"value": "right", "label": "Right"}
        ], "default": "center"},
        {"type": "range", "id": "padding_horizontal", "min": 10, "max": 60, "step": 2, "unit": "px", "label": "Padding horizontal", "default": 32},
        {"type": "range", "id": "padding_vertical", "min": 8, "max": 30, "step": 2, "unit": "px", "label": "Padding vertical", "default": 14},
        {"type": "range", "id": "margin_top", "min": 0, "max": 60, "step": 2, "unit": "px", "label": "Margin top", "default": 0},
        {"type": "range", "id": "margin_bottom", "min": 0, "max": 60, "step": 2, "unit": "px", "label": "Margin bottom", "default": 0},
        {"type": "checkbox", "id": "full_width_mobile", "label": "Full width on mobile", "default": false}
      ]
    }
  ],
  "presets": [
    {
      "name": "Testimonials",
      "blocks": [
        {
          "type": "column"
        },
        {
          "type": "column"
        },
        {
          "type": "column"
        }
      ]
    }
  ]
}
{% endschema %}